/* 강화 성공 시 번쩍이는 효과 */
.effect-success {
    animation: success-flash 0.5s ease-out;
}

@keyframes success-flash {
    0% { background-color: var(--card-color); }
    50% { background-color: #2ecc71; transform: scale(1.05); }
    100% { background-color: var(--card-color); transform: scale(1); }
}

/* 강화 실패 시 흔들리는 효과 */
.effect-fail {
    animation: fail-shake 0.4s ease-in-out;
}

@keyframes fail-shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px) rotate(-1deg); }
    50% { transform: translateX(10px) rotate(1deg); }
    75% { transform: translateX(-10px); }
}

/* 검 강화 수치 강조 애니메이션 */
.level-up {
    animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes pop {
    0% { transform: scale(0.5); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

/* 오라 베이스 (검 표시 영역에 적용) */
.aura-container {
    position: relative;
    transition: all 0.5s ease;
    border-radius: 15px;
}

/* 성공 시 푸른색 오라 */
.aura-success {
    animation: aura-glow-success 1.5s infinite alternate;
    box-shadow: 0 0 20px #00d4ff, 0 0 40px #00d4ff, 0 0 60px #00d4ff;
    border: 2px solid #00d4ff;
}

@keyframes aura-glow-success {
    0% { filter: drop-shadow(0 0 5px #00d4ff); transform: scale(1); }
    100% { filter: drop-shadow(0 0 25px #00d4ff); transform: scale(1.02); }
}

/* 실패 시 붉은색 오라 (짧게 유지) */
.aura-fail {
    animation: aura-glow-fail 0.5s ease-in-out;
    box-shadow: 0 0 20px #ff4b2b, 0 0 40px #ff416c;
    border: 2px solid #ff416c;
}

@keyframes aura-glow-fail {
    0% { opacity: 0; transform: scale(0.9); }
    50% { opacity: 1; transform: scale(1.1); filter: blur(2px); }
    100% { opacity: 0; transform: scale(1); }
}

/* 강화 성공 시 텍스트 파티클 느낌 */
.text-pop {
    animation: text-surge 0.5s ease-out;
}

@keyframes text-surge {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-30px) scale(1.5); opacity: 0; }
}

/* 파편 기본 스타일 */
.particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background-color: #ff4b2b; /* 실패 시 붉은 파편 */
    pointer-events: none; /* 클릭 방해 금지 */
    border-radius: 2px;
    z-index: 100;
}

/* 사방으로 퍼지는 애니메이션 */
@keyframes shatter {
    0% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 1;
    }
    100% {
        /* JS에서 커스텀 속성(--x, --y)으로 방향을 정해줄 겁니다 */
        transform: translate(var(--x), var(--y)) rotate(var(--r));
        opacity: 0;
    }
}